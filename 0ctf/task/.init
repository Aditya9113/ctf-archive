#!/bin/bash

# Log file location
LOG_FILE="/challenge/init.log"

# Logging the start of the script
echo "$(date) - Starting .init script execution as user $(whoami)" >> "$LOG_FILE"

# Setting LD_LIBRARY_PATH
export LD_LIBRARY_PATH="/challenge:$LD_LIBRARY_PATH"
echo "$(date) - LD_LIBRARY_PATH set to $LD_LIBRARY_PATH" >> "$LOG_FILE"

# Verify and log if LD_LIBRARY_PATH contains /challenge
if [[ ":$LD_LIBRARY_PATH:" == *":/challenge:"* ]]; then
    echo "$(date) - LD_LIBRARY_PATH update successful" >> "$LOG_FILE"
else
    echo "$(date) - LD_LIBRARY_PATH update failed" >> "$LOG_FILE"
fi